(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[324],{5954:(e,s,a)=>{Promise.resolve().then(a.bind(a,6569))},6569:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>u});var t=a(5155),r=a(9322);function d(){return(0,t.jsxs)("div",{className:"animate-pulse",children:[(0,t.jsxs)("div",{className:"grid lg-custom:grid-cols-2 xl:grid-cols-3 gap-4 lg-custom:gap-6 p-4 lg-custom:p-6",children:[(0,t.jsx)("div",{className:"xl:col-span-2 space-y-4",children:(0,t.jsxs)("div",{className:"border border-border p-4 lg-custom:p-6",children:[(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-16 mb-3"}),(0,t.jsxs)("div",{className:"space-y-2 mb-3 lg-custom:mb-4",children:[(0,t.jsx)("div",{className:"h-5 sm:h-6 lg-custom:h-7 xl:h-8 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-5 sm:h-6 lg-custom:h-7 xl:h-8 bg-muted rounded w-3/4"})]}),(0,t.jsxs)("div",{className:"space-y-2 mb-3 lg-custom:mb-4",children:[(0,t.jsx)("div",{className:"h-4 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-4 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-5/6"}),(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-4/5 hidden sm:block"})]}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-2 sm:gap-4",children:[(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-16"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-1"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-20"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-1"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-24"})]})]})}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("div",{className:"h-5 sm:h-6 bg-muted rounded w-32"}),[1,2,3].map(e=>(0,t.jsxs)("div",{className:"border border-border p-4",children:[(0,t.jsx)("div",{className:"h-4 sm:h-5 bg-muted rounded w-4/5 mb-2"}),(0,t.jsxs)("div",{className:"space-y-1 mb-2",children:[(0,t.jsx)("div",{className:"h-3 bg-muted rounded"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-3/4"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-2/3 hidden sm:block"})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-16"}),0===e&&(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-20"})]})]},e))]})]}),(0,t.jsxs)("div",{className:"border-t border-border p-4 lg-custom:p-6",children:[(0,t.jsx)("div",{className:"h-5 sm:h-6 bg-muted rounded w-48 mb-3 lg-custom:mb-4"}),(0,t.jsx)("div",{className:"grid grid-cols-1 lg-custom:grid-cols-3 gap-3 lg-custom:gap-4",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"border border-border p-3 lg-custom:p-4",children:[(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-16 mb-1"}),(0,t.jsx)("div",{className:"h-4 bg-muted rounded w-3/4 mb-1"}),(0,t.jsx)("div",{className:"h-3 bg-muted rounded w-5/6"})]},e))})]})]})}var l=a(5317),c=a(7428);async function i(){let e=(0,l.P)((0,l.rJ)(c.db,"articles"),(0,l.My)("publishedAt","desc"));return(await (0,l.GG)(e)).docs.map(e=>{let s=e.data();return{id:e.id,slug:e.id,title:s.title,summary:s.summary,category:s.category,publishedAt:s.publishedAt.toDate(),featured:!!s.featured,tags:s.tags,status:s.status}})}function n(e){let s=Math.floor((new Date().getTime()-e.getTime())/36e5);if(s<1)return"Just now";if(1===s)return"1 hour ago";if(s<24)return"".concat(s," hours ago");{let e=Math.floor(s/24);return 1===e?"1 day ago":"".concat(e," days ago")}}var m=a(2115),o=a(5695);function u(){let[e,s]=(0,m.useState)(""),[a,l]=(0,m.useState)([]),[c,u]=(0,m.useState)(!0),[x,g]=(0,m.useState)(1),[h,b]=(0,m.useState)(1),p=(0,o.useRouter)(),j=e=>{switch(e){case"In Committee":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200";case"Passed":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"Failed":return"bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200";default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-200"}};(0,m.useEffect)(()=>{let e=()=>{let e=window.innerWidth,s=40,a=Array(e<=767?60:e<=1e3?50:e<=1279?40:35).fill("News").join(" • ")+" • ";return a+a},a=()=>s(e());return a(),window.addEventListener("resize",a),()=>window.removeEventListener("resize",a)},[]),(0,m.useEffect)(()=>{(async function(){u(!0);try{l(await i())}catch(e){console.error("Error fetching articles:",e)}finally{u(!1)}})()},[]);let N=a.filter(e=>e.featured).sort((e,s)=>s.publishedAt.getTime()-e.publishedAt.getTime()),v=a.filter(e=>!e.featured),f=Math.ceil(N.length/3),w=Math.ceil(v.length/3),y=N.slice((x-1)*3,3*x),k=v.slice((h-1)*3,3*h);return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(r.Navigation,{}),(0,t.jsxs)("main",{className:"flex-grow pt-20 lg-custom:pt-20",children:[(0,t.jsx)("div",{className:"py-8 lg-custom:py-12 xl:py-16 px-4",children:e&&(0,t.jsx)("div",{className:"news-ticker-container",children:(0,t.jsx)("div",{className:"news-ticker-text",children:e})})}),(0,t.jsx)("div",{className:"border-t border-border",children:c?(0,t.jsx)(d,{}):(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"grid lg-custom:grid-cols-2 xl:grid-cols-3 gap-4 lg-custom:gap-6 p-4 lg-custom:p-6",children:[y.length>0&&(0,t.jsxs)("div",{className:"xl:col-span-2 space-y-6",children:[(0,t.jsx)("h3",{className:"text-xl font-bold",children:"Featured Stories"}),y.map(e=>{var s;return(0,t.jsxs)("div",{className:"border border-border p-6 hover:bg-muted transition-colors cursor-pointer",onClick:()=>p.push("/articles/".concat(e.slug)),children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-sm",children:[(0,t.jsx)("span",{className:"uppercase tracking-wide font-medium",children:"Featured"}),e.status&&(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-none ".concat(j(e.status)),children:e.status})]}),(0,t.jsx)("h2",{className:"text-2xl font-bold mt-2 mb-4",children:e.title}),(0,t.jsx)("p",{className:"text-muted-foreground mb-4",children:e.summary}),(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-4 text-sm text-muted-foreground",children:[(0,t.jsx)("span",{children:n(e.publishedAt)}),(0,t.jsx)("span",{children:"•"}),(0,t.jsx)("span",{children:e.category}),(null===(s=e.tags)||void 0===s?void 0:s.length)>0&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{children:"•"}),(0,t.jsxs)("span",{className:"inline-flex flex-wrap gap-1",children:[e.tags.slice(0,3).map(e=>(0,t.jsx)("span",{className:"px-2 py-1 text-xs bg-muted border border-border hover:bg-accent transition-colors cursor-pointer",children:e},e)),e.tags.length>3&&(0,t.jsxs)("span",{className:"px-2 py-1 text-xs text-muted-foreground",children:["+",e.tags.length-3," more"]})]})]})]})]},e.id)}),f>1&&(0,t.jsx)("div",{className:"flex space-x-2 mt-4",children:Array.from({length:f},(e,s)=>s+1).map(e=>(0,t.jsx)("button",{className:"px-3 py-1 border rounded ".concat(e===x?"bg-muted":""),onClick:()=>g(e),children:e},e))})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsx)("h3",{className:"text-lg font-bold",children:"Recent Updates"}),k.map(e=>(0,t.jsxs)("div",{className:"border border-border p-4 hover:bg-muted transition-colors cursor-pointer",onClick:()=>p.push("/articles/".concat(e.slug)),children:[e.status&&(0,t.jsx)("div",{className:"flex items-center gap-2 mb-2 text-sm",children:(0,t.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-none ".concat(j(e.status)),children:e.status})}),(0,t.jsx)("h4",{className:"font-semibold mb-2",children:e.title}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mb-2",children:e.summary}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)("span",{className:"text-xs text-muted-foreground",children:n(e.publishedAt)}),(0,t.jsx)("span",{className:"text-xs text-primary hover:underline",children:"Read More →"})]})]},e.id)),w>1&&(0,t.jsx)("div",{className:"flex space-x-2 mt-4",children:Array.from({length:w},(e,s)=>s+1).map(e=>(0,t.jsx)("button",{className:"px-3 py-1 border rounded ".concat(e===h?"bg-muted":""),onClick:()=>b(e),children:e},e))})]})]})})})]})]})}},7428:(e,s,a)=>{"use strict";a.d(s,{db:()=>l});var t=a(3915),r=a(5317);let d=(0,t.Wp)({apiKey:"AIzaSyCRjzkzqyzA2FqTlDS6QIpcYLtLd-DUdhE",authDomain:"legislatethis-8ca94.firebaseapp.com",projectId:"legislatethis-8ca94",storageBucket:"legislatethis-8ca94.firebasestorage.app",messagingSenderId:"633877492276",appId:"1:633877492276:web:43cfdbf4ee4eb1ed7ad061",measurementId:"G-1KD73QTY12"}),l=(0,r.aU)(d)}},e=>{var s=s=>e(e.s=s);e.O(0,[992,411,399,322,441,684,358],()=>s(5954)),_N_E=e.O()}]);